Trying:
    item = buildItem("my/web/site/media/item1", title = "Title of item 1", guid = "item1",
                     description="This is item 1", pubDate="Mon, 22 Dec 2014 18:30:00 +0000",
                     indent = "   ")
Expecting nothing
ok
Trying:
    print(item)
Expecting:
          <item>
             <guid>item1</guid>
             <link>my/web/site/media/item1</link>
             <title>Title of item 1</title>
             <description>This is item 1</description>
             <pubDate>Mon, 22 Dec 2014 18:30:00 +0000</pubDate>
          </item>
ok
Trying:
    item = buildItem("my/web/site/media/item2", title = "Title of item 2", indent = " ",
                     extraTags=[{"name" : "itunes:duration" , "value" : "06:08"}])
Expecting nothing
ok
Trying:
    print(item)
Expecting:
      <item>
       <guid>my/web/site/media/item2</guid>
       <link>my/web/site/media/item2</link>
       <title>Title of item 2</title>
       <description></description>
       <itunes:duration>06:08</itunes:duration>
      </item>
ok
Trying:
    item = buildItem("my/web/site/media/item2", title = "Title of item 2", indent = " ",
                     extraTags=[{"name" : "enclosure" ,
                                 "params" : 'url="http://example.com/media/file.mp3"'
                                            ' type="audio/mpeg" length="1234"'}])
Expecting nothing
ok
Trying:
    print(item)
Expecting:
      <item>
       <guid>my/web/site/media/item2</guid>
       <link>my/web/site/media/item2</link>
       <title>Title of item 2</title>
       <description></description>
       <enclosure url="http://example.com/media/file.mp3" type="audio/mpeg" length="1234"/>
      </item>
ok
Trying:
    item = buildItem("my/web/site/media/item2", title = "Title of item 2", indent = " ",
                     extraTags= [{"name" : "enclosure", "value" : None,
                                  "params" :  ['url="file.mp3"', 'type="audio/mpeg"',
                                               'length="1234"']}])
Expecting nothing
ok
Trying:
    print(item)
Expecting:
      <item>
       <guid>my/web/site/media/item2</guid>
       <link>my/web/site/media/item2</link>
       <title>Title of item 2</title>
       <description></description>
       <enclosure url="file.mp3" type="audio/mpeg" length="1234"/>
      </item>
ok
Trying:
    print(fileToItem('example.com/', 'test/media/1.mp3', 'Mon, 16 Jan 2017 23:55:07 +0000'))
Expecting:
          <item>
             <guid>example.com/test/media/1.mp3</guid>
             <link>example.com/test/media/1.mp3</link>
             <title>1</title>
             <description>1</description>
             <pubDate>Mon, 16 Jan 2017 23:55:07 +0000</pubDate>
             <enclosure url="example.com/test/media/1.mp3" type="audio/mpeg" length="0"/>
          </item>
ok
Trying:
    print(fileToItem('example.com/', 'test/invalid/checksum.md5', 'Mon, 16 Jan 2017 23:55:07 +0000'))
Expecting:
          <item>
             <guid>example.com/test/invalid/checksum.md5</guid>
             <link>example.com/test/invalid/checksum.md5</link>
             <title>checksum</title>
             <description>checksum</description>
             <pubDate>Mon, 16 Jan 2017 23:55:07 +0000</pubDate>
          </item>
ok
Trying:
    print(fileToItem('example.com/', 'test/invalid/windows.exe', 'Mon, 16 Jan 2017 23:55:07 +0000'))
Expecting:
          <item>
             <guid>example.com/test/invalid/windows.exe</guid>
             <link>example.com/test/invalid/windows.exe</link>
             <title>windows</title>
             <description>windows</description>
             <pubDate>Mon, 16 Jan 2017 23:55:07 +0000</pubDate>
          </item>
ok
Trying:
    print(fileToItem('example.com/', 'test/media/mp3_with_tags.mp3', 'Mon, 16 Jan 2017 23:55:07 +0000'))
Expecting:
          <item>
             <guid>example.com/test/media/mp3_with_tags.mp3</guid>
             <link>example.com/test/media/mp3_with_tags.mp3</link>
             <title>mp3_with_tags</title>
             <description>mp3_with_tags</description>
             <pubDate>Mon, 16 Jan 2017 23:55:07 +0000</pubDate>
             <enclosure url="example.com/test/media/mp3_with_tags.mp3" type="audio/mpeg" length="803"/>
          </item>
ok
Trying:
    print(fileToItem('example.com/', 'test/media/mp3_with_tags.mp3', 'Mon, 16 Jan 2017 23:55:07 +0000', True))
Expecting:
          <item>
             <guid>example.com/test/media/mp3_with_tags.mp3</guid>
             <link>example.com/test/media/mp3_with_tags.mp3</link>
             <title>Test media file with ID3 tags</title>
             <description>Test media file with ID3 tags</description>
             <pubDate>Mon, 16 Jan 2017 23:55:07 +0000</pubDate>
             <enclosure url="example.com/test/media/mp3_with_tags.mp3" type="audio/mpeg" length="803"/>
          </item>
ok
Trying:
    import os
Expecting nothing
ok
Trying:
    media_dir = os.path.join("test", "media")
Expecting nothing
ok
Trying:
    files =  ['1.mp3', '1.mp4', '1.ogg', '2.MP3', 'flac_with_tags.flac', 'mp3_with_tags.mp3']
Expecting nothing
ok
Trying:
    expected = [os.path.join(media_dir, f) for f in files]
Expecting nothing
ok
Trying:
    getFiles(media_dir) == expected
Expecting:
    True
ok
Trying:
    expected = [os.path.join(media_dir, f) for f in files]
Expecting nothing
ok
Trying:
    sd_1 = os.path.join(media_dir, "subdir_1")
Expecting nothing
ok
Trying:
    expected += [os.path.join(sd_1, f) for f in ['2.MP4', '3.mp3', '4.mp3']]
Expecting nothing
ok
Trying:
    sd_2 = os.path.join(media_dir, "subdir_2")
Expecting nothing
ok
Trying:
    expected += [os.path.join(sd_2, f) for f in ['4.mp4', '5.mp3', '6.mp3']]
Expecting nothing
ok
Trying:
    getFiles(media_dir, recursive=True) == expected
Expecting:
    True
ok
Trying:
    files = ['1.mp3', '2.MP3', 'mp3_with_tags.mp3']
Expecting nothing
ok
Trying:
    expected = [os.path.join(media_dir, f) for f in files]
Expecting nothing
ok
Trying:
    getFiles(media_dir, extensions=["mp3"]) == expected
Expecting:
    True
ok
Trying:
    files = ['1.mp3', '1.ogg', '2.MP3', 'mp3_with_tags.mp3']
Expecting nothing
ok
Trying:
    expected = [os.path.join(media_dir, f) for f in files]
Expecting nothing
ok
Trying:
    expected += [os.path.join(sd_1, f) for f in ['3.mp3', '4.mp3']]
Expecting nothing
ok
Trying:
    expected += [os.path.join(sd_2, f) for f in ['5.mp3', '6.mp3']]
Expecting nothing
ok
Trying:
    getFiles(media_dir, extensions=["mp3", "ogg"], recursive=True) == expected
Expecting:
    True
ok
Trying:
    expected = [os.path.join(media_dir, '1.mp4'), os.path.join(sd_1, '2.MP4'), os.path.join(sd_2, '4.mp4')]
Expecting nothing
ok
Trying:
    getFiles(media_dir, extensions=["mp4"], recursive=True) == expected
Expecting:
    True
ok
Trying:
    media_dir = os.path.join("test", "media")
Expecting nothing
ok
Trying:
    flac_file = os.path.join(media_dir, 'flac_with_tags.flac')
Expecting nothing
ok
Trying:
    mp3_file = os.path.join(media_dir, 'mp3_with_tags.mp3')
Expecting nothing
ok
Trying:
    getTitle(flac_file)
Expecting:
    'flac_with_tags'
ok
Trying:
    getTitle(flac_file, True)
Expecting:
    'Test FLAC file with tags'
ok
Trying:
    getTitle(mp3_file, True)
Expecting:
    'Test media file with ID3 tags'
ok
2 items had no tests:
    __main__
    __main__.main
4 items passed all tests:
   8 tests in __main__.buildItem
   5 tests in __main__.fileToItem
  21 tests in __main__.getFiles
   6 tests in __main__.getTitle
40 tests in 6 items.
40 passed and 0 failed.
Test passed.
